{"version":3,"sources":["components/error-indicator/error.png","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/index.js","components/hoc/with-bookstore-service.js","actions/index.js","utils/compose.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/book-list/book-list.js","components/book-list/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/home/index.js","components/pages/cart/index.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-boundary/index.js","components/error-boundary/error-boundary.js","services/bookstore-service.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","index.js"],"names":["module","exports","BookListItem","book","onAddedToCart","title","author","price","coverImage","className","src","alt","to","onClick","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","WithBookstoreService","Wrapped","props","bookstoreService","bookAddedToCart","bookId","type","payload","fetchBooks","dispatch","getBooks","then","data","catch","err","compose","funcs","comp","reduceRight","wrapped","f","Spinner","ErrorIndicator","icon","BookListContainer","this","books","loading","error","Component","BookList","map","key","id","withBookstoreService","connect","bookList","bindActionCreators","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","shoppingCart","items","cartItems","totalPrice","orderTotal","item","idx","count","total","HomePage","CartPage","ShopHeader","numItems","App","role","length","path","component","exact","ErrorBoundary","state","hasError","setState","children","BookstoreService","Promise","resolve","reject","setTimeout","Math","random","Error","updateBookList","action","undefined","getTotal","reduce","acc","elem","updateOrder","quantity","find","itemIndex","findIndex","newCartItems","slice","updateCartItems","updateCartItem","updateShoppingCart","reducer","stringMiddleware","next","store","createStore","applyMiddleware","thunkMiddleware","getState","console","log","logger","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.3dbbf4fa.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAATyUlEQVR4nO2deXjNV/rAP+fe7PsuN7FHoqjSaGVptJSpoUUxWpRIKKPtdGh1nS467cx0+U3HWsRaW1XUUqpDqaAIIZQ2RWJpLLmR3OyR9d575o9LBInce3Nvwu+5n+fJ88j3e8573pP3+57lPQuwYcOGDRs2bNiwYcOGDRs2bNiwYcOGDRv3PqK5FbAkiVIq22jUD+qV8nH09EKIECAQ8AB0wFVALQTpSHlC6hVJBX6lyQNFaGWzKl6L/xcGOZhzMVQqFFMRYhTgbUpeAYV6SBR6EqL8g45aSUVT9Ll3OZh/8QFQ/l1KBgMKC4jcplfo337Eu+XPFpBlFvekQY5Iaa/Nz35LIt8FHCwsXitgbnlx5dt92rWrsLDsBrnnDJJcoG6LTm5A8KCVizoudLoRkQGtMqxczk3cUwZJ1mR1QrAdaNVEReZL5KBo3+ADTVTevWOQ/Rr1wwoh/wv4NnHRpVKKvtF+qpSmKOyeMMiR3FxVtaL6KIYhbHOgETpddFM0X5YYmViVJCntqhTVa2k+YwD4SaVy/YGLF52tXdBdbxDnAvWHAno1tx5AV+Gi/Ke1C7mrm6xrI6pTCBybW5dr6PQK/UPWnKfc3R6ik/+8i4wBoFToFVb1krvWQ1Ly1F10yBPcfR+NlArZI9o7+Jg1hN9tla1BJxmLkfpVlJRSUVJqZY1qEEInJllL+F1pECmlQMhnjUmbumUrnw4ayqeDhpK6Zau1VTMgeDZNplk6ZHNNdBOSJtMcSvN8Y3RCN0AgIhEiEClV1/TQSMgUUhyQQmYLmNGQvPysLOaPHU9vjwCkgD1FObywcik+QUFm61haUMC+5as4vf8AxZo83H19CI2O4JFRo/BS3Rh5S4XoHe2t2mN2QfXQJB6SlJPjlpx/+c3iPO9LeqH/USBeA2KQsgPgCrgArQX0Qsg3jTEGwI65C3BT2BEbHEpcUBieSnt2zF1gtp4Xf00jIe55QlX+/HvpF2xMSeLzpfMIU7VgyeSXOHsktSat0Ov7mF3QHbC6QQ5osp52UmrPI8UnCPwtJffc0WOc3LefsYHtcVQocVAoGNWiHSf37efM4SMmyyvKvsL66R/xwezPGDUpHlXLYOzs7FC1Cua5yROYPutTNn30L4qyr1zLIR6wVF1qY7UmK0lKO6d89WfA1NrldPc02OTnolyzZUu9jgVxk/DQFPGPDuE1wiUw/exR8rzdmPzlYpR2drflPb0/mZTEb7h06hQArTt3old8HGk7f6RdgC+xL02st9xV85dwRp3DwGlTkZAW7Rt0v9mVqIfbNbYAUkpxKD87QcL4W981xhDXSdm4hZzMTKaEPnTTFyWAeFUob2UcJnXzd/Qc9vRN+XYtWkraDzuY/MYUwqMikFJyNDmFJZ9+hiY7hwnfrLhjuY8/2Z9tE/9yvawWja5IHVjFQ5Lz1bOR8mUweIST8ma7V+i0ZhumvLiEOSPHEOnoweRWnQA4VJwLUhLhGQDAggsnSa4s4uU1K3Hx8gQMnvHDzNnMW7cCd0+Pm2QWFRSwdMY8pnzwFgqFst6yqyorGRbZjy69Yzh7OBVtZXWpg5PD7qLSwik7f0k/Z1aFbsHifcjBfPXA68YAg0cczFff9NMYL9m1eCn6ikqeDWwPgKaqgoXZ6Sy8koGmyrDANyqoA6KymqRly2vypSR+w+Q3ptxmDABPb29e+fCdOxoDIC9XA0C3+8JYsH4Vy7atdxsxfuwAVyfXI/26hrU3u1K1aHSTJaVMB0IbSleirSKtOO+mPqS29xjjNbm/Z5K6+TtGq0LwtjdEVFZrzvH06CiklKzecpopQZ3xtLNnWEBrvtq0hYcGP0WLkPZcOnWa8KgIk+u3YflXlJaW4ujoxPBxo1iwcRUt27apeT8ifoxSp9N7bUncMBfSB5pcwC1YtMlK1mT9DYHVYj2rXn2D4rRTzAjtib1CQXpZETNzT7F481SEgIlDZvGidxid3bzQSj2vZhxGqAJw8/Hm/PETjJ/6IhGPxaBqGWxy2VkXLrF/ZxIjxo+97V1hfgGx/Z8G0Do7Ox8vLi764IdfT31nTh0tZpDrnnL9S6/PE+qjXKfl+B085Lc9e0l87++81b4b4R5+SCl5J/Mow1/rR+/+XQHYve0EiZ/v5JM2PRBCkFqs4dNzxxk8egSjJ8WjUCrZvmEzrUPa8XCvaJPruHTmPKSU2Nvb4e7pydCxI2ve6XQ6qioq+fnQYRZ8MvPq1ZKS+RsPp75uahkWM0hyvnoAUn5vKXm10VVVM29sHEFl1bzXrjsASXlqkpwK+c/qSQhhqIaUktdjF/FomRd9fAyz6o/PHyfL2Y6EzWtwcDQ0c18vWs7IieMapdPRAwcBCI+OvO1dSVExk4aMrCgsLBhhqqdYrFMXyDoXkbp7+hPpo6rxGHPYvzaRwuwrxKkMXVWFXsfavN+Z/M5TNcYAEEIw+Z1BZHvpa57FBnUgLyeHjSvX1jxrrDEAukU8zNGDR1g1fzFrEpZRXVVV887d04OX/vaak4eHx3RT5VrOQ/LUO0H2tZS865RoNMwdFcsfPFsQG2QwyJrssxR3cee1T/5UZx69poLMt/bhJwzxvxWXM9hRlE3C5rUEqCw/fchRXyFp63aefT625llZ6VVG9h5QufXnX5xMkdUoD5FSikOa7McP5GXNBGl6o2wEO+Yn4CAFw1u0AyC3qpydxdnET3ui3jzVbkreTE8ht6ocgBGB7XAWCpbPNj/OdScCVC1wcLC/6ZlEgkJh8t/3zgPvO5Ccrx5wqbxknRTyDQGRgH2DmUzkUtpvbJszn7igDnR09QJgYXY6j4zoTs9H7wPgm5m72J94jKPbT3L+pJrOke2ws1NSXallz9EMIj0CsFcocFYo2XA0he4RD1vFSzp163rT74f37uf3zEtlqWknPzZFjskW/F5mOCZrLn9xrQPvZmp+Y5F6PdtmzqGNizt9fA3h9JOlhZzRXmV4XExNutITuYws8WNkiR+lJ26M0v4UH0OG7ioXKgwLV319gmjv6smCjz9H6vVYk5KiYpbMmk/MuLFuh3IvhZmS1ySDHJHS3rvALREhXjRNRdP5edsOLp1OJy6oAwoEUkqW555hwrT+ODjWcsZanTqKG/92cLRnxspJBLfzv5ZMME4Vwrn0M/y45b9W0bms9Cr7dyYxZczzdOzTm9DICKEXij+aIsOkmXp1nno2gsGmqWk6VWVl7EpYRLR3IJ1dDacLdudn4xTgyqNP3BJgrf1JKW4eo/i28CB/UEsuzjpGW2c37nP1IsLTn1nT/8V/3r8xfx378mRGPR9L2rETvDH+RbM9yNHZmdad7+Pxl14gLMowHJaCXsBsY2UYbZCD+eqBUso/m66m6exZsYqK4hLGdOwMGMIqa/POM33B2JuGuQBCKQxHcQBRh78Xein45MIJZoZG4KRQEhccyrHSfKKe/RP9/nwj1J5SVA7tQ5m+e4dF6yKgiynpjW+ypPwnTbDkW3A5i0OJ63navxV+DoYR44bcTMKjOhDWqY6QR22vUN6uXvvQFjwYGcKmnEwAfOydGOzXmuS135B38ZJV6nALJk3AjDJIsuZyPwndzdPHNLbNnoeH0p7BAYYAXk5VOT8WZRM3rX/dGWobRNT9vcS/3p8dReqaYfCQFq3xtnPghy/mW1T3evAyJbFRBpFCPGWeLqZx7shRTicnE6sKwfFaKHzVlbMMey4KX3/3ujM14CEAvv4eDB0dyaocw5KFg1DyXGB7Th84yJlDhy1ahzooMSWxUQYRkkfN08V49Dod22fPpaO7D1FehnnCqauFnNVdZei4R+rPqKh7lHUrw+N7cVZ3ld9KCwF4xKsFndx9+GH2XHRarUXqUA8mLf4Y24e0NEMRk0jZsImczAvEqUIQGAKFy6+cYeJrA3B0qn/OWbsjF3cwiIOjHeOn9Wd5TgZSSgDig0LRXMri8KbNlqrGbUg4YUp64wwi8DRLGyMpLy5h77IV9PUNJsTFsKK3Kz8LB38XYp648yBFr7xRBV0DQ47H+nfFpYUbSQVqANo6u9HHR8WeJV9SVljYuErUgwJxyLT0RiAhzzx1jGPnwkXIykqeuRavqtBpWafJZPL0QbcNc28lYmR3EoOLSQwuJnJUw8cOX5g+mLW55ynTG5qpkaoQFFVV7Fq8rPEVqQOh15nkfsbOQy4DKtPVaZjsjLMc2/JfxgSF4GVviM6uz/mdHvUNc2+hU482dOrRpsF01wnpqCI8KpRNv2UyOjAETzt7hvu3ZeWWrYQPfpKgMJMiHXdEwk8R/i3TTcljXKcOP5mnUsNsmzWHQGdX/uhnOMd5paqcXcXZxL1ezzD3FirKq9mUsJdNCXupKK82Ks+ENwfwY5EadWUZAAMCWhHs4sb2GXNr+hdzuL72c/0nykfV69pKqtEY12QpxLfmqXhn0nbt5vcTvzAuMAS7a03TSvUZho+OxsevnmHuLax4fws9kqvokVzFiveNW5zz9nFl2OhovrpiGAYrEcQHdiAzLY2Tu/eaVxnq2GGTpz6bqtE8ZooMo5qsKK/Anw7mqY9Z8my4tqqSnfMSCPf050EPw8HatNJ8MmU578THNJD7Bg751TVNnUOBcR4CMHx8DH/emMovJfl0dfehq7sP4Z5+bJ/zBaHRkdg73n5OyJi9AXBjB013L/8QJ6VdlpTyjBCiwZ05YKRBhBD6g3lZb0nYbkx6Y9i3+muKNRpiO/aseVbkKJn64VAcHI2PeepVzmRevIqUEn1r4xfn7B3siH+lP6s+287H7t4oEMQFhfFq+iEOrFnLY3Gxt+UxdT/Z9fQCYfTKmEmxqeS8rFnAX03Jo62q5KeVX5G2YxeFmlx8VUGExURxaN0G/uilYkxQh5q0ThM7Yd/TtLV3nU7PT1uOI4Qg5qkHUCpNW+J5fdRCHql0p6+vYQCx6nIG3xdm8/LqL/EMrHsh67qnFFVXcrIk3+QdNtfIEELcNoIwySBJUto55WVvQMhBxqSvrqxk5dTXCPDxZswL42ndvh2Xfs9k+ZwETh47weyQHngoDc2Nsp0HLm93qzceZS3Onlbz7vPLmBkWiYvCjgqdlr+mp9AqJpLh09+1WDlCMDbSJ2hVg+lMFZwkpZ1jvvrfAqY0lHb30i8pPXuOD+f+303PpV7PBy9Nw+eMmlKF4cvSoadL97YMHxtBYJBJNyw1moSPviPwko7nVCGAYVK64MJJ4mfPoE13408dXPeOenZhbozyDRrWkAyzP8dkzeV+KMSnSMLrSzN35Fje/fwjwjp3uu3dufQzvDJqPKMnjaff0CcBwY5vv2PtkhV4ujiYsz+gUfR08WWMd1vAELZ5+2wq5S18mbRkAaKBPb/GYOzxhUa1D1JKxYFCdYxCzxCgl1arbZmUsCjw5+07hEIISguL2HhoV80GtVspLyvH2eXmyxESF33J6XXf84qqY2NUazTpZUW8l5HKoNdfJfypRm/ZBSiO8g1qMATVqM3WQgg9sPfaD8N6PjSnY9cu4xesW+EipWT/zt3YO9R/NvJWYwD0HfIUiYuWQzMbJMzFkyivFhz86mtLGcSoj7/Ru9+fuP/+Vm5uzgsryit6V1ZWOLz6j/cUPv6GecWQ554xSZaUkozfTlKp1fLGuaNEunrjYWeVw65GUaavpqrCYqH5y8YkapRBnrj//lZOjva/PBM/xvXxQQPtvHy9USrNb2/XLl5Bl/BuzNuwmh+/3crGr9ZRWdHkl7rV4B3gz8BpUy0l7jdjEjXKIG5uzgtHxD3nOmJCrEWOxjk6OdK1h2GlOG7KC7h6uHP019MMff9vlhDfrEhpXPipUUOZivKK3n0HP2mxc4q1t/cD9Bs0kHOpqfWkvncQUFiprDAqDH9X3uRwHb1eh7bKqsurTYIU8uM+3u2MWgFrlEEcnRz37vz2O6v9xXZu/p6Qh+ud5twrpFQUVRm9Ua5RM562vu6HTx5PGyfATtWqpcLF1aUx4mrIy8lly5pv2Lg6kaffewcXj9sPat4jXNTptX94LLhtgbEZGh04GvBAh5bOLl4JFeWVj+u02nrDrarWLVmyJZH3/zKND+d+zsTBhrtlFm1ey4RBz6C+cGPTmpOrKx0e7kGfSc/ja8Z5wLuEFJ1eOzTGv3WWKZmsFsk7IqV9db76DNDaWmXcjQgolEJ+XOBdNsucO+WtGlo9kHd5gkAstmYZTY2AvRI0QDgQAOiBS8BJpPi2QlnxrbEdeD3yrYeUUnEoP3ufREZZs5wmpMheb9/pIX9/tbUKsOqwVwih1+u0sUCxNctpIqRETLSmMaAJ5iHRAa3OgJiI4bKe5kAP8ktqDi2YJ0MI8ZdoX9U6C+lUL00yMYzyVSUC05qirFuRUk6J8g2OVwgxBDM8VUChgGcifVTzrKDebTTZTD3KN2gG8CpN5yl6pPxrtF/wXIAIH9VWoVWGCUgAjJnM6oDlCuQDkb5B662qaS2a/JrY5Dz1MyAXA8ZtvDKPYiTxUX5BG+p6uS/3QpBSaT9ESvmkgPYY/rcFJYZ7H08oELv1Ursm2q+VUSFzS9Is9/YezLkYKpXKZcAdzhmYzT6FUhEb4RV43gqyrU6zXaRsuHUuK04i3gfaWkBkphTy7SjvoK+FEM01gGg0zX6z9REp7bV56pFSQTySxzCtX9NJ5B5QLHDwCdz0kBDGb128S2l2g9TmSG6uSqus7oskRkruQ9ABcAM8BRRKKEJwHsSvIA8q7PTbIjxaWvWohA0bNmzYsGHDhg0bNmzYsGHDhg0bNmzYsGE6/wMtmDI4cAI4mwAAAABJRU5ErkJggg==\"","import BookListItem from './book-list-item'\n\nexport default BookListItem ","import React from 'react'\nimport './book-list-item.css'\nimport { Link } from 'react-router-dom'\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n  const {title, author, price, coverImage} = book \n\n  return (\n    <div className=\"book-list-item\">\n      \n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n\n      <div className=\"book-details\">\n        <Link to=\"#\">\n          <span className=\"book-title\">{title}</span>\n        </Link>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">{`$ ${price}`}</div>\n        <button \n          onClick={onAddedToCart}\n          className=\"btn btn-info add-to-cart\">\n            Add to cart\n        </button>\n      </div>\n      \n    </div>\n  ) \n}\n\nexport default BookListItem","import React from 'react'\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer\n} = React.createContext()\n\nexport { BookstoreServiceProvider, BookstoreServiceConsumer }","import WithBookstoreService from './with-bookstore-service'\n\nexport default WithBookstoreService","import React from 'react'\nimport { BookstoreServiceConsumer } from '../bookstore-service-context'\n\nconst WithBookstoreService = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <BookstoreServiceConsumer>\n        {\n          (bookstoreService) => {\n            // const serviceProps = mapMethodsToProps(bookstoreService)\n\n            return (\n              <Wrapped {...props} bookstoreService={bookstoreService} />\n            )\n          }\n        }\n      </BookstoreServiceConsumer>\n    )\n  }\n}\n\nexport default WithBookstoreService","\nconst booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  }\n}\n\nconst booksLoaded = (newBooks) => {  \n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  }\n} \n\nconst booksError = (error) => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  }\n}\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  }\n}\n\nexport const bookRemovedFromCart = (bookId) => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  }\n}\n\nexport const allBooksRemovedFromCart = (bookId) => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  }\n}\n\n// const fetchBooksOld = (bookstoreService, dispatch) => () =>  {\n//   dispatch(booksRequested()); \n//   bookstoreService.getBooks()\n//     .then((data) => dispatch(booksLoaded(data)))\n//     .catch((err) => dispatch(booksError(err)))\n// }\n\nconst fetchBooks = (bookstoreService) => () => (dispatch) => {\n  dispatch(booksRequested()); \n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)))\n}\n\nexport {\n  fetchBooks\n}","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp) \n}\n\nexport default compose","import Spinner from './spinner'\n\nexport default Spinner","import React from 'react'\nimport './spinner.css'\n\nconst Spinner = () => {\n  return (\n    <div className=\"loadingio-spinner-rolling-yxl20u3w7ue\">\n      <div className=\"ldio-q1dhsoj7dmh\">\n        <div></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Spinner \n","import ErrorIndicator from './error-indicator'\n\nexport default ErrorIndicator","import React from 'react'\nimport './error-indicator.css'\nimport icon from './error.png'\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\">\n      <img className=\"error-img\" src={icon} alt=\"error icon\" />\n      <span>Oops!</span>\n      <span>Something has gone wrong</span>\n    </div>\n  )\n}\n\nexport default ErrorIndicator","import React, { Component } from 'react'\nimport './book-list.css'\nimport BookListItem from '../book-list-item'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport withBookstoreService from '../hoc'\nimport { fetchBooks, bookAddedToCart } from '../../actions'\nimport { compose } from '../../utils' \nimport Spinner from '../spinner'\nimport ErrorIndicator from '../error-indicator'\n\nclass BookListContainer extends Component {\n\n  componentDidMount() {\n    this.props.fetchBooks()\n  }\n\n  render () {\n    const { books, loading, error, onAddedToCart } = this.props\n\n    if (loading) {\n      return <Spinner />\n    } \n\n    if (error) {\n      return <ErrorIndicator />\n    }  \n    \n    return <BookList books={books} onAddedToCart={onAddedToCart} />\n  }\n}\n\nconst BookList = ({ books, onAddedToCart }) => {\n  return (\n    <ul className=\"book-list\">\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem \n                book={book} \n                onAddedToCart={() => onAddedToCart(book.id)} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n}\n\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => {\n  return { books, loading, error }\n}\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n  return bindActionCreators({\n    fetchBooks: fetchBooks(bookstoreService),\n    onAddedToCart: bookAddedToCart \n  }, dispatch)\n}\n\nexport default compose(\n                withBookstoreService(),\n                connect(mapStateToProps, mapDispatchToProps)\n              )(BookListContainer)\n\n\n","import BookList from './book-list'\n\nexport default BookList","import React from 'react'\nimport './shopping-cart-table.css'\nimport { connect } from 'react-redux'\nimport { bookAddedToCart, bookRemovedFromCart, allBooksRemovedFromCart } from '../../actions'\n\nconst ShoppingCartTable = ({ items, totalPrice, onIncrease, onDecrease, onDelete }) => {\n\n  const renderRow = (item, idx) => {\n\n    const { id, title, count, total } = item\n    \n    return (\n      <tr key={id}>\n        <td>{idx + 1}</td>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>${total}</td>\n        <td className=\"text-right\">\n          <button \n            onClick={() => onIncrease(id)}\n            className=\"btn btn-outline-success btn-small\">\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button \n            onClick={() => onDecrease(id)}\n            className=\"btn btn-outline-warning btn-small\">\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n          <button \n            onClick={() => onDelete(id)}\n            className=\"btn btn-outline-danger btn-small\">\n            <i className=\"fa fa-trash-o\" />\n          </button>\n        </td>\n      </tr>\n    )\n  }\n\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your order</h2>\n      <table className=\"table table-hover\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th className=\"text-right\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          { items.map(renderRow) }\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: ${totalPrice}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => {\n  return {\n    items: cartItems,\n    totalPrice: orderTotal\n  }\n}\n\nconst mapDispatchToProps = {\n  \n  onIncrease: bookAddedToCart,\n\n  onDecrease: bookRemovedFromCart,\n\n  onDelete: allBooksRemovedFromCart\n  \n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable)\n\n","import ShoppingCartTable from './shopping-cart-table'\n\nexport default ShoppingCartTable","import React from 'react'\nimport BookList from '../../book-list'\nimport ShoppingCartTable from '../../shopping-cart-table'\n\nconst HomePage = () => {\n  return ( \n    <div>\n      <BookList />\n      <ShoppingCartTable />\n    </div>\n    \n  )\n}\n\nexport default HomePage","import React from 'react'\n\nconst CartPage = () => {\n  return ( \n    <div>\n      This is your cart page\n    </div>\n  )\n}\n\nexport default CartPage","import ShopHeader from './shop-header'\n\nexport default ShopHeader","import React from 'react'\nimport './shop-header.css'\nimport { Link } from 'react-router-dom'\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/\">\n        <div className=\"logo text-dark\">ReStore</div>\n      </Link>\n      <Link to=\"/cart\">\n        <div className=\"shopping-cart\">\n          <i className=\"cart-icon fa fa-shopping-cart\" />\n          {numItems} items ($ {total})\n        </div>\n      </Link>\n    </header>\n  )\n}\n\nexport default ShopHeader ","import App from './app'\n\nexport default App","import React from 'react'\nimport './app.css'\nimport { Route, Switch } from 'react-router-dom'\nimport { HomePage, CartPage } from '../pages'\nimport ShopHeader from '../shop-header'\nimport { connect } from 'react-redux'\n\nconst App = ({items, totalPrice}) => {\n  return (\n    <main role=\"main\" className=\"container\">\n      <ShopHeader numItems={items.length} total={totalPrice} />\n      <Switch>\n        <Route \n          path='/book-store'\n          component={HomePage}\n          exact />\n        <Route \n          path='/cart'\n          component={CartPage} />\n      </Switch>\n    \n    </main>\n  )\n}\n\nconst mapStateToProps = ({ shoppingCart: { cartItems, orderTotal }}) => {\n  return {\n    items: cartItems,\n    totalPrice: orderTotal\n  }\n}\n\nexport default connect(mapStateToProps)(App)","import ErrorBoundary from './error-boundary'\n\nexport default ErrorBoundary","import React, { Component } from 'react'\nimport ErrorIndicator from '../error-indicator'\n\nexport default class ErrorBoundry extends Component {\n  state = {\n    hasError: false\n  }\n\n  componentDidCatch () {\n    this.setState({hasError: true})\n  }\n\n  render () {\n    // const hasError = this.state\n     \n    if (this.state.hasError) { \n      return <ErrorIndicator />\n    }\n    return this.props.children\n  }\n}\n","\nexport default class BookstoreService {\n\n  data = [\n    { id: 1,\n      title: 'React.js Book: Learning React JavaScript Library From Scratch',\n      author: 'Gre Sidelnikov',\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/51ad7GkEzNL._SX322_BO1,204,203,200_.jpg',\n      price: 23  \n    },\n    { id: 2,\n      title : 'Data Visualization with Python and JavaScript',\n      author: 'Kyran Dale',\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/51e472YBqmL._SX331_BO1,204,203,200_.jpg',\n      price: 34 \n    },\n    { id: 3,\n      title : 'Javascript for beginners',\n      author: 'Enrique Sanchez',\n      coverImage: 'https://m.media-amazon.com/images/I/51AMdOpEf7L._SX260_.jpg',\n      price: 18 \n    }\n  ]\n\n  getBooks() {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (Math.random() > 1) {\n          reject(new Error('Something bad happened'))\n        } else {\n          resolve(this.data)\n        }\n      }, 700) \n    }) \n\n  } \n\n}","const updateBookList = (state, action) => {\n  if (state === undefined) {\n    return {\n      books: [],\n      loading: true,\n      error: null\n    }\n  }\n\n  switch(action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        books: [],\n        loading: true,\n        error: null\n      }\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: action.payload,\n        loading: false,\n        error: null\n      }\n    \n    case 'FETCH_BOOKS_FAILURE':\n      return { \n        books: [],\n        loading: false,\n        error: action.payload \n      }\n    \n    default: \n      return state.bookList\n  }\n}\n\nexport default updateBookList","const updateCartItems = (cartItems, item, idx) => {\n\n  if (item.count === 0) {\n    return [\n      ...cartItems.slice(0, idx),\n      ...cartItems.slice(idx + 1) \n    ]\n  }\n\n  if (idx === -1) {\n    return [\n      ...cartItems,\n      item\n    ]\n  } \n\n  return [\n    ...cartItems.slice(0, idx),\n    item,\n    ...cartItems.slice(idx + 1) \n  ]\n}\n\nconst updateCartItem = (book, item = {}, quantity) => {\n  const {\n    id = book.id, \n    title = book.title, \n    count = 0,\n    total = 0 \n  } = item \n\n  return {\n    id, \n    title,\n    count: count + quantity,\n    total: total + quantity*book.price \n  }\n}\n\nexport const getTotal = (cartItems) => { \n  return ( \n    cartItems.reduce((acc, elem) => {\n      return acc + elem.total\n    }, 0) \n    \n  )\n}\n\nconst updateOrder = (state, bookId, quantity) => {\n  const { bookList: {books}, shoppingCart: {cartItems} } = state \n  const book = books.find(({id}) => id === bookId)\n  const itemIndex = cartItems.findIndex(({id}) => id === bookId) \n  const item = cartItems[itemIndex]\n  let newItem = updateCartItem(book, item, quantity)\n  const newCartItems = updateCartItems(cartItems, newItem, itemIndex)\n\n  return {\n    cartItems: newCartItems,\n    orderTotal: getTotal(newCartItems)\n  }\n}\n\nconst updateShoppingCart = (state, action) => {\n  \n  if (state === undefined) {\n    return {\n      cartItems: [],\n      orderTotal: 0\n    }\n  }\n\n  switch(action.type) {\n    case 'BOOK_ADDED_TO_CART':\n      return updateOrder(state, action.payload, 1)\n\n    case 'BOOK_REMOVED_FROM_CART': \n      return updateOrder(state, action.payload, -1)\n      \n    case 'ALL_BOOKS_REMOVED_FROM_CART': \n      const {shoppingCart: {cartItems}} = state\n      const item = cartItems.find(({id}) => id === action.payload)\n      return updateOrder(state, action.payload, -item.count)\n      \n    default: \n      return state.shoppingCart\n  }\n}\n\nexport default updateShoppingCart","import updateBookList from './book-list'\nimport updateShoppingCart from './shopping-cart'\n\nconst reducer = (state, action) => {\n\n  return {\n    bookList: updateBookList(state, action),\n    shoppingCart: updateShoppingCart(state, action)\n  }\n  \n}\n\nexport default reducer","import { createStore, applyMiddleware } from 'redux'\nimport reducer from './reducers'\nimport thunkMiddleware from 'redux-thunk'\n// Logger with default options\nimport logger from 'redux-logger'\n\nconst logMiddleware = ({ getState }) => (next) => (action) => {\n  console.log(action.type, getState())\n  return next(action) \n}\n\nconst stringMiddleware = () => (next) => (action) => {\n  if (typeof action === 'string') {\n    return next({\n      type: action\n    })\n  }\n\n  return next(action)\n}\n\nconst store = createStore(reducer, applyMiddleware(\n  thunkMiddleware, stringMiddleware, logMiddleware, logger))\n\n// const delayedActionCreator = (timeout) => (dispatch) => {\n//   setTimeout(() => dispatch({\n//     type: 'DELAYED_ACTION'\n//   }), timeout) \n// }\n\nstore.dispatch(stringMiddleware)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport App from './components/app'\nimport ErrorBoundry from './components/error-boundary'\nimport BookstoreService from './services/bookstore-service'\nimport { BookstoreServiceProvider } from './components/bookstore-service-context'\nimport store from './store'\n\nconst bookstoreService = new BookstoreService()\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>  \n      <BookstoreServiceProvider value={bookstoreService}> \n        <Router>  \n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}